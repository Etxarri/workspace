<div th:fragment="contenidoForo">
  <div class="mb-4">
    <h2 class="mb-3"><i class="bi bi-journal-text"></i> <span th:text="#{otros.titulo}">Otros Temas</span></h2>
    <p class="text-muted" th:text="#{otros.descripcion}">Comparte tus dudas y ayuda a otros sobre otros temas no especificadas en la sección de temas.</p>
    <div class="row g-3">
      <div class="col-md-6">
        <div class="card border-primary h-100">
          <div class="card-body">
            <h5 class="card-title"><i class="bi bi-person-vcard"></i> <span th:text="#{otros.card1.titulo}">Título 1</span></h5>
            <p class="card-text" th:text="#{otros.card1.descripcion}">Info 1</p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card border-success h-100">
          <div class="card-body">
            <h5 class="card-title"><i class="bi bi-house"></i> <span th:text="#{otros.card2.titulo}">Título 2</span></h5>
            <p class="card-text" th:text="#{otros.card2.descripcion}">Info 2</p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card border-warning h-100">
          <div class="card-body">
            <h5 class="card-title"><i class="bi bi-file-earmark-person"></i> <span th:text="#{otros.card3.titulo}">Título 3</span></h5>
            <p class="card-text" th:text="#{otros.card3.descripcion}">Info 3</p>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card border-danger h-100">
          <div class="card-body">
            <h5 class="card-title"><i class="bi bi-people-fill"></i> <span th:text="#{otros.card4.titulo}">Título 4</span></h5>
            <p class="card-text" th:text="#{otros.card4.descripcion}">Info 4</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Preguntas Frecuentes -->
  <div class="mt-4">
    <h5 class="mb-3"><i class="bi bi-lightbulb"></i> <span th:text="#{otros.faq.titulo}">Preguntas frecuentes</span></h5>
    <div class="accordion" id="faqAccordionOtros">
      <div class="accordion-item">
        <h2 class="accordion-header" id="faqO1">
          <button class="accordion-button text-black collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseO1" aria-expanded="false" aria-controls="faqCollapseO1"
            th:text="#{otros.faq.p1.titulo}">¿Dónde puedo encontrar actividades culturales gratuitas?</button>
        </h2>
        <div id="faqCollapseO1" class="accordion-collapse collapse" aria-labelledby="faqO1" data-bs-parent="#faqAccordionOtros">
          <div class="accordion-body" th:text="#{otros.faq.p1.respuesta}">
            Consulta la web de tu ayuntamiento, centros culturales y foros de expatriados. Muchos eventos se anuncian en redes sociales.
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="faqO2">
          <button class="accordion-button text-black collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseO2" aria-expanded="false" aria-controls="faqCollapseO2"
            th:text="#{otros.faq.p2.titulo}">¿Cómo puedo conocer a otras personas recién llegadas?</button>
        </h2>
        <div id="faqCollapseO2" class="accordion-collapse collapse" aria-labelledby="faqO2" data-bs-parent="#faqAccordionOtros">
          <div class="accordion-body" th:text="#{otros.faq.p2.respuesta}">
            Busca grupos de integración, asociaciones de inmigrantes y eventos de bienvenida en tu ciudad.
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="faqO3">
          <button class="accordion-button text-black collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseO3" aria-expanded="false" aria-controls="faqCollapseO3"
            th:text="#{otros.faq.p3.titulo}">¿Qué hago si pierdo un objeto importante en la ciudad?</button>
        </h2>
        <div id="faqCollapseO3" class="accordion-collapse collapse" aria-labelledby="faqO3" data-bs-parent="#faqAccordionOtros">
          <div class="accordion-body" th:text="#{otros.faq.p3.respuesta}">
            Acude a la oficina de objetos perdidos de tu municipio y publica en grupos locales de redes sociales.
          </div>
        </div>
      </div>
      <div class="accordion-item">
        <h2 class="accordion-header" id="faqO4">
          <button class="accordion-button text-black collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapseO4" aria-expanded="false" aria-controls="faqCollapseO4"
            th:text="#{otros.faq.p4.titulo}">¿Hay apps útiles para la vida diaria en España?</button>
        </h2>
        <div id="faqCollapseO4" class="accordion-collapse collapse" aria-labelledby="faqO4" data-bs-parent="#faqAccordionOtros">
          <div class="accordion-body" th:text="#{otros.faq.p4.respuesta}">
            Sí: "MiConsulado", "Renfe", "BiciMAD", "Glovo", "Bizum" y muchas más según tu ciudad y necesidades.
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Botón para añadir pregunta -->
  <div class="alert alert-info mt-4 mb-2 d-flex align-items-center justify-content-between">
    <span><i class="bi bi-question-circle"></i> <span th:text="#{otros.nueva_pregunta.texto}">¿Tienes una nueva duda sobre otros temas?</span></span>
    <a class="btn btn-outline-info btn-sm" data-bs-toggle="collapse" href="#nuevaPreguntaOtros" role="button" aria-expanded="false" aria-controls="nuevaPreguntaOtros">
      <i class="bi bi-plus-circle"></i> <span th:text="#{otros.nueva_pregunta.boton}">Añadir pregunta</span>
    </a>
  </div>
  <div class="collapse" id="nuevaPreguntaOtros">
    <div class="card my-3">
      <div class="card-body">
        <form th:action="@{/foro/preguntasFrecuentes}" method="post">
          <input type="hidden" name="temaId" th:value="${tema.temaID}" />
          <div class="mb-3">
            <label for="preguntaContenidoOtros" class="form-label" th:text="#{otros.nueva_pregunta.label}">Pregunta</label>
            <textarea class="form-control" id="preguntaContenidoOtros" name="contenido" rows="3" required></textarea>
          </div>
          <button type="submit" class="btn btn-info" th:text="#{otros.nueva_pregunta.publicar}">Publicar</button>
        </form>
      </div>
    </div>
  </div>
  <!-- Preguntas de usuarios -->
  <div class="mt-5">
    <h4><i class="bi bi-people"></i> <span th:text="#{otros.preguntas_usuarios.titulo}">Preguntas de usuarios</span></h4>
    <div th:if="${preguntasUsuarios != null and #lists.isEmpty(preguntasUsuarios)}" class="text-muted" th:text="#{otros.preguntas_usuarios.vacio}">
      No hay preguntas publicadas aún. ¡Sé el primero en preguntar!
    </div>
    <div class="list-group">
      <div th:each="pregunta : ${preguntasUsuarios}" class="list-group-item mb-2">
        <a th:href="@{/foro/preguntaUsuario/{preguntaID}(preguntaID=${pregunta.preguntaID})}" style="text-decoration: none; color: inherit;">
            <h6 class="mb-1"><i class="bi bi-question-circle"></i> <span class="pregunta-original" th:text="${pregunta.pregunta}">Título de la pregunta</span></h6>
        </a>


        <small class="text-muted" th:text="${#dates.format(pregunta.fechaCreacion, 'dd/MM/yyyy')}">Fecha</small>
      </div>
    </div>
  </div>
</div>